{"ast":null,"code":"// File: frontend/src/App.js\nimport React,{useState,useEffect}from'react';import{Routes,Route,Navigate}from'react-router-dom';import'./App.css';import HomePage from'./pages/HomePage';import CountryDetailsPage from'./pages/CountryDetailsPage';import LoginPage from'./pages/LoginPage';import RegisterPage from'./pages/RegisterPage';import Layout from'./components/Layout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);useEffect(()=>{const userFromStorage=JSON.parse(localStorage.getItem('userInfo'));if(userFromStorage){setUser(userFromStorage);}},[]);const logoutHandler=()=>{localStorage.removeItem('userInfo');setUser(null);};return/*#__PURE__*/_jsx(Layout,{user:user,logoutHandler:logoutHandler,children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{user:user})}),/*#__PURE__*/_jsx(Route,{path:\"/country/:code\",element:/*#__PURE__*/_jsx(CountryDetailsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(LoginPage,{setUser:setUser})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(RegisterPage,{setUser:setUser})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Navigate","HomePage","CountryDetailsPage","LoginPage","RegisterPage","Layout","jsx","_jsx","jsxs","_jsxs","App","user","setUser","userFromStorage","JSON","parse","localStorage","getItem","logoutHandler","removeItem","children","path","element","to"],"sources":["E:/sliit/AF/projet 2/af-2-it21287954-main/af-2-it21287954-main/frontend/src/App.js"],"sourcesContent":["// File: frontend/src/App.js\nimport React, { useState, useEffect } from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport './App.css';\nimport HomePage from './pages/HomePage';\nimport CountryDetailsPage from './pages/CountryDetailsPage';\nimport LoginPage from './pages/LoginPage';\nimport RegisterPage from './pages/RegisterPage';\nimport Layout from './components/Layout';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const userFromStorage = JSON.parse(localStorage.getItem('userInfo'));\n    if (userFromStorage) {\n      setUser(userFromStorage);\n    }\n  }, []);\n\n  const logoutHandler = () => {\n    localStorage.removeItem('userInfo');\n    setUser(null);\n  };\n\n  return (\n    <Layout user={user} logoutHandler={logoutHandler}>\n      <Routes>\n        <Route path=\"/\" element={<HomePage user={user} />} />\n        <Route path=\"/country/:code\" element={<CountryDetailsPage />} />\n        <Route \n          path=\"/login\" \n          element={user ? <Navigate to=\"/\" /> : <LoginPage setUser={setUser} />} \n        />\n        <Route \n          path=\"/register\" \n          element={user ? <Navigate to=\"/\" /> : <RegisterPage setUser={setUser} />} \n        />\n      </Routes>\n    </Layout>\n  );\n}\n\nexport default App;"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAC1D,MAAO,WAAW,CAClB,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,kBAAkB,KAAM,4BAA4B,CAC3D,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,eAAe,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CACpE,GAAIJ,eAAe,CAAE,CACnBD,OAAO,CAACC,eAAe,CAAC,CAC1B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,aAAa,CAAGA,CAAA,GAAM,CAC1BF,YAAY,CAACG,UAAU,CAAC,UAAU,CAAC,CACnCP,OAAO,CAAC,IAAI,CAAC,CACf,CAAC,CAED,mBACEL,IAAA,CAACF,MAAM,EAACM,IAAI,CAAEA,IAAK,CAACO,aAAa,CAAEA,aAAc,CAAAE,QAAA,cAC/CX,KAAA,CAACX,MAAM,EAAAsB,QAAA,eACLb,IAAA,CAACR,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEf,IAAA,CAACN,QAAQ,EAACU,IAAI,CAAEA,IAAK,CAAE,CAAE,CAAE,CAAC,cACrDJ,IAAA,CAACR,KAAK,EAACsB,IAAI,CAAC,gBAAgB,CAACC,OAAO,cAAEf,IAAA,CAACL,kBAAkB,GAAE,CAAE,CAAE,CAAC,cAChEK,IAAA,CAACR,KAAK,EACJsB,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEX,IAAI,cAAGJ,IAAA,CAACP,QAAQ,EAACuB,EAAE,CAAC,GAAG,CAAE,CAAC,cAAGhB,IAAA,CAACJ,SAAS,EAACS,OAAO,CAAEA,OAAQ,CAAE,CAAE,CACvE,CAAC,cACFL,IAAA,CAACR,KAAK,EACJsB,IAAI,CAAC,WAAW,CAChBC,OAAO,CAAEX,IAAI,cAAGJ,IAAA,CAACP,QAAQ,EAACuB,EAAE,CAAC,GAAG,CAAE,CAAC,cAAGhB,IAAA,CAACH,YAAY,EAACQ,OAAO,CAAEA,OAAQ,CAAE,CAAE,CAC1E,CAAC,EACI,CAAC,CACH,CAAC,CAEb,CAEA,cAAe,CAAAF,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}