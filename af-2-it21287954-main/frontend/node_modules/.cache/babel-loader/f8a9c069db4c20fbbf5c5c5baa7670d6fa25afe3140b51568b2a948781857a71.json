{"ast":null,"code":"// File: frontend/src/pages/CountryDetailsPage.js\nimport React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import CountryDetail from'../components/CountryDetail';import Loader from'../components/Loader';import{fetchCountryByCode,fetchCountriesByCodes}from'../services/api';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BackButton=styled.button`\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  background-color: var(--primary-color);\n  color: var(--text-color);\n  padding: 8px 24px;\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\n  margin-top: 40px;\n  cursor: pointer;\n`;const CountryDetailsPage=()=>{const{code}=useParams();const navigate=useNavigate();const[country,setCountry]=useState(null);const[borderCountries,setBorderCountries]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const getCountryDetails=async()=>{try{var _countryData$,_countryData$$borders;setLoading(true);setError('');// Fetch country details\nconst countryData=await fetchCountryByCode(code);setCountry(countryData[0]);// Fetch border countries if available\nif(((_countryData$=countryData[0])===null||_countryData$===void 0?void 0:(_countryData$$borders=_countryData$.borders)===null||_countryData$$borders===void 0?void 0:_countryData$$borders.length)>0){const borders=await fetchCountriesByCodes(countryData[0].borders);setBorderCountries(borders);}else{setBorderCountries([]);}}catch(err){setError('Failed to fetch country details. Please try again later.');console.error(err);}finally{setLoading(false);}};getCountryDetails();},[code]);const handleGoBack=()=>{navigate(-1);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BackButton,{onClick:handleGoBack,children:\"\\u2190 Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',marginTop:'40px'},children:error}):country?/*#__PURE__*/_jsx(CountryDetail,{country:country,borderCountries:borderCountries}):/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',marginTop:'40px'},children:\"Country not found\"})]});};export default CountryDetailsPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","CountryDetail","Loader","fetchCountryByCode","fetchCountriesByCodes","styled","jsx","_jsx","jsxs","_jsxs","BackButton","button","CountryDetailsPage","code","navigate","country","setCountry","borderCountries","setBorderCountries","loading","setLoading","error","setError","getCountryDetails","_countryData$","_countryData$$borders","countryData","borders","length","err","console","handleGoBack","children","onClick","style","textAlign","marginTop"],"sources":["E:/sliit/AF/projet 2/af-2-it21287954-main/af-2-it21287954-main/frontend/src/pages/CountryDetailsPage.js"],"sourcesContent":["// File: frontend/src/pages/CountryDetailsPage.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport CountryDetail from '../components/CountryDetail';\nimport Loader from '../components/Loader';\nimport { fetchCountryByCode, fetchCountriesByCodes } from '../services/api';\nimport styled from 'styled-components';\n\nconst BackButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  background-color: var(--primary-color);\n  color: var(--text-color);\n  padding: 8px 24px;\n  border: none;\n  border-radius: 4px;\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\n  margin-top: 40px;\n  cursor: pointer;\n`;\n\nconst CountryDetailsPage = () => {\n  const { code } = useParams();\n  const navigate = useNavigate();\n  const [country, setCountry] = useState(null);\n  const [borderCountries, setBorderCountries] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const getCountryDetails = async () => {\n      try {\n        setLoading(true);\n        setError('');\n        \n        // Fetch country details\n        const countryData = await fetchCountryByCode(code);\n        setCountry(countryData[0]);\n        \n        // Fetch border countries if available\n        if (countryData[0]?.borders?.length > 0) {\n          const borders = await fetchCountriesByCodes(countryData[0].borders);\n          setBorderCountries(borders);\n        } else {\n          setBorderCountries([]);\n        }\n      } catch (err) {\n        setError('Failed to fetch country details. Please try again later.');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    getCountryDetails();\n  }, [code]);\n\n  const handleGoBack = () => {\n    navigate(-1);\n  };\n\n  return (\n    <div>\n      <BackButton onClick={handleGoBack}>\n        ‚Üê Back\n      </BackButton>\n      \n      {loading ? (\n        <Loader />\n      ) : error ? (\n        <p style={{ textAlign: 'center', marginTop: '40px' }}>{error}</p>\n      ) : country ? (\n        <CountryDetail country={country} borderCountries={borderCountries} />\n      ) : (\n        <p style={{ textAlign: 'center', marginTop: '40px' }}>Country not found</p>\n      )}\n    </div>\n  );\n};\n\nexport default CountryDetailsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}